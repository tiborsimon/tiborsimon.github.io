<!DOCTYPE HTML>
<!--
  Escape Velocity by HTML5 UP
  html5up.net | @n33co
  Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
  <head>
      <title>tiborsimon.io</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--[if lte IE 8]><script src="https://tiborsimon.io/theme/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="https://tiborsimon.io/theme/css/main.css" />
    <!--[if lte IE 8]><link rel="stylesheet" href="https://tiborsimon.io/theme/css/ie8.css" /><![endif]-->

  <meta name="author" content="Tibor Simon" />
  <meta name="keywords" content="" />
  <meta name="description" content="As I was creating my site, I wanted to split a list of articles in half to display them in two columns. There are two options to do this: with Jinja2 built in filters, or a custom Jinja2 filter." />

  <meta property="fb:app_id" content="551628881652865"/>
  <meta property="og:site_name" content="tiborsimon.io" />
  <meta property="og:type" content="article"/>
  <meta property="og:title" content="Get half of the list in Pelican"/>
  <meta property="og:url" content="https://tiborsimon.io/python/get-half-of-the-list-in-pelican/"/>
  <meta property="og:description" content="As I was creating my site, I wanted to split a list of articles in half to display them in two columns. There are two options to do this: with Jinja2 built in filters, or a custom Jinja2 filter."/>
  <meta property="article:published_time" content="2016-02-14" />
  <meta property="article:section" content="python" />
  <meta property="article:tag" content="" />
  <meta property="article:author" content="Tibor Simon" />

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:site" content="@tiborsimonio" />
      <meta name="twitter:title" content="Tibor Simon - Engineering with Passion" />
      <meta name="twitter:description" content="A blog and portfolio about programming, engineering, electronics and music. Tibor, the host, is a graduated electrical engineer from Budapest." />
      <meta name="twitter:image" content="https://tiborsimon.io/images/tibor4.jpg" />

  </head>

  <body class="right-sidebar">
    <div id="page-wrapper">

<!-- Header -->
<div id="header-wrapper" class="wrapper">
  <div id="header">

    <!-- Logo -->
      <div id="logo">
        <h1><a href="index.html">Engineering with passion</a></h1>
        <p>Site of Tibor Simon - Blog, worklog, portfolio</p>
      </div>

    <!-- Nav -->
      <nav id="nav">
        <ul>
          <li class="current"><a href="https://tiborsimon.io/index.html">Home</a></li>
          <li><a href="https://tiborsimon.io/archives.html">Archives</a></li>
          <li><a href="https://tiborsimon.io/index.html#portfolio">Portfolio</a></li>
          <!-- <li><a href="https://tiborsimon.io/worklog.html">Worklog</a></li> -->
          <li><a href="https://tiborsimon.io/index.html#about">About</a></li>
        </ul>
      </nav>

  </div>
</div>
<div class="wrapper style2">
  <div class="title">Article</div>
  <div id="main" class="container">
    <div class="row 150%">
      <div class="8u 12u(mobile)">

        <!-- Content -->
          <div id="content">
            <article>

              <h1 class="article-title">Get half of the list in Pelican</h1>

              <div class="article-info">
                <hr />
<div class="article-date">
  <i class="fa fa-clock-o"></i> Posted on <time datetime="2016-02-14T00:00:00+00:00"> Sun 14 February 2016</time>
</div><div class="article-categories">
  <!-- CATEGORY -->
  <i class="fa fa-folder-open-o"></i>
  <a href="https://tiborsimon.io/category/python.html">python</a>

  <!-- TAGS -->
      <i class="fa fa-tags padded-icon"></i>
          <a href="https://tiborsimon.io/tag/pelican.html">pelican</a>,           <a href="https://tiborsimon.io/tag/jinja2.html">jinja2</a>,           <a href="https://tiborsimon.io/tag/lists.html">lists</a>,           <a href="https://tiborsimon.io/tag/hack.html">hack</a>
  <!-- SERIES -->

  <!-- GITHUB -->

</div>              </div>


              <div class="summary"><p>As I was creating my site, I wanted to split a list of articles in half to display them in two columns. There are two options to do this: with Jinja2 built in filters, or a custom Jinja2 filter.</p></div>

              <p>I wanted to display a list of articles in a two columns. If there are even number of articles, the two columns will have the same number articles. If there are odd number of articles, the first column will contain more articles then the second. This behavior can be achieved with a ceil-like function, which returns the smallest integer greater than or equal to a given number.</p>
<h1>Using built in Jinja2 filters</h1>
<p>In the <strong>first</strong> solution <em>we are using</em> only the built in Jinja filters. Because of the lack of mathematical functions in the built in filters, we need to hack the only available rounding filter (<code>round</code>) to be able to use it as a <code>ceil</code> like function.</p>
<p>The steps are the followings:</p>
<ol>
<li>Get the half of the article list's length</li>
<li>Add a small number from the <code>]0,1[</code> intervallum</li>
<li>Use the round filter</li>
<li>Cast the result to <em>integer</em></li>
</ol>
<div class="highlight"><pre>{% set article_middle_index = articles|length / 2 %}
{% set article_middle_index = article_middle_index + 0.2 %}
{% set article_middle_index = article_middle_index|round %}
{% set article_middle_index = article_middle_index|int %}
</pre></div>


<p>Since <code>{{ 0.5|round }}</code> is <code>0.0</code> according to Jinja2, we need to add a small number to the halfed number, to achieve the ceil-like behavior.</p>
<h1>Writing a custom Jinja filter</h1>
<p>We can also write a custom Jinja filter that calculates the middle index of a list, by appending a small function definition and a special dictionary that tells Pelican to use the function definition as a Jinja filter to the <code>pelicanconf.py</code> file:</p>
<div class="highlight"><pre>def list_half_index(content, *args):
    return ceil(len(content))

JINJA_FILTERS = {
    &#39;list_half_index&#39;: list_half_index,
}
</pre></div>


<p>In the Pelican template files, we can use our custom filter as follows:</p>
<div class="highlight"><pre>{% set article_middle_index = articles|middle_index %}
</pre></div>


<h1>Using the middle index</h1>
<p>We have now the middle index of an article list, so we can use it to split the list to half:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;6u 6u(tablet) 12u(mobile)&quot;</span><span class="nt">&gt;</span>
    {% for article in articles[:article_middle_index] %}
      {% include &#39;includes/article-card.html&#39; %}
    {% endfor %}
  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;6u 6u(tablet) 12u(mobile)&quot;</span><span class="nt">&gt;</span>
    {% for article in articles[article_middle_index:] %}
      {% include &#39;includes/article-card.html&#39; %}
    {% endfor %}
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>


<p>We ended up having two coloms of articles that are generated from a single list.</p>

              <div class="addthis_sharing_toolbox"></div>

            </article>


            <div class="comments" id="discussion">
              <h1>Comments</h1>
              <hr />
<div id="disqus_thread"></div>
<script>

    var disqus_config = function () {
        this.page.url = "https://tiborsimon.io/python/get-half-of-the-list-in-pelican/";
        this.page.identifier = "tiborsimon-article-get-half-of-the-list-in-pelican";
    };

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//tiborsimon.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>            </div>
          </div>

      </div>

<div class="4u 12u(mobile)">

  <!-- Sidebar -->
    <aside id="sidebar">
      <div class="box">
        <img class="widget-avatar" src="https://tiborsimon.io/images/tibor4.jpg" width=300 alt="Image of Tibor Simon" />
        <p >Hi, my name is <b>Tibor Simon.</b> I am a graduated electrical engineer with a masters degree.  I live in Budapest, and I am currently working at Nokia Networks.</p>
      </div>
      <div class="box">
      </div>
      <div class="box">
      </div>
      <div class="box">
<aside class="tag-list">
  <h2 class="widget-title"><a href="https://tiborsimon.io/tags.html">Tags</a></h2>
  <div class="tagcloud">
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/accelerometer.html">accelerometer</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/basics.html">basics</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/bootstrap.html">bootstrap</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/chart.html">chart</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/device.html">device</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/dsp.html">dsp</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/dunlop.html">dunlop</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/embedded.html">embedded</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/equation.html">equation</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/fuzzy.html">fuzzy</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/game.html">game</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/guitar.html">guitar</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/hack.html">hack</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/java.html">java</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/javascript.html">javascript</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/jinja2.html">jinja2</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/lists.html">lists</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/parameter.html">parameter</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/pelican.html">pelican</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/permutation.html">permutation</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/pick.html">pick</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/regexp.html">regexp</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/search.html">search</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/signals.html">signals</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/sorting.html">sorting</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/soup.html">soup</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/statistics.html">statistics</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/tools.html">tools</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/tortextime.html">tortextime</a>
      </span>
      <span class="tagcloud-button">
        <a href="https://tiborsimon.io/tag/web.html">web</a>
      </span>
  </div>
</aside>
<!-- .widget_tag_cloud -->      </div>
      <div class="box">
<aside class="category-list">
  <h2 class="widget-title"><a href="https://tiborsimon.io/categories.html">Categories</a></h2>
  <ul>
      <li><a href="https://tiborsimon.io/category/dsp.html" title="Architecture Category Posts">dsp</a> (1)</li>
      <li><a href="https://tiborsimon.io/category/embedded.html" title="Architecture Category Posts">embedded</a> (1)</li>
      <li><a href="https://tiborsimon.io/category/guitar.html" title="Architecture Category Posts">guitar</a> (1)</li>
      <li><a href="https://tiborsimon.io/category/programming.html" title="Architecture Category Posts">programming</a> (2)</li>
      <li><a href="https://tiborsimon.io/category/python.html" title="Architecture Category Posts">python</a> (4)</li>
      <li><a href="https://tiborsimon.io/category/tools.html" title="Architecture Category Posts">tools</a> (1)</li>
      <li><a href="https://tiborsimon.io/category/web.html" title="Architecture Category Posts">web</a> (2)</li>
  </ul>
</aside>
<!-- .widget_categories -->      </div>
    </aside>

</div>
    </div>
  </div>
</div>

<!-- Footer -->
<div id="footer-wrapper" class="wrapper">
  <div class="title">The rest of it..</div>
  <div id="footer" class="container">
    <header class="style1">
      <h2>Do you want to support Tibor?</h2>
      <div class="donation-buttons">
        <form action="https://www.paypal.com/cgi-bin/webscr" method="post">
          <!-- Identify your business so that you can collect the payments. -->
          <input type="hidden" name="business"
              value="tibor@tiborsimon.io">

          <!-- Specify a Donate button. -->
          <input type="hidden" name="cmd" value="_donations">

          <!-- Specify details about the contribution -->
          <input type="hidden" name="item_name" value="Donation for Tibor">
          <input type="hidden" name="item_number" value="To support his projects">
          <input TYPE="hidden" name="return" value="https://tiborsimon.io/guitar/tortex-time/">
          <input type="hidden" name="currency_code" value="USD">

          <!-- Display the payment button. -->
          <input type="image" name="submit" class="paypal-button"
          src="/images/paypal.png"
          alt="PayPal - The safer, easier way to pay online" width=120>
          <img alt="" width="1" height="1"
          src="/images/paypal.png">
        </form>
    </header>

    <hr />
    <div class="addthis_sharing_toolbox"></div>
  </div>
  <div id="copyright">
    <ul>
      <li>&copy; Tibor Simon</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
    </ul>
  </div>
</div>    </div>

    ​<script type="text/javascript">
    var addthis_config = addthis_config||{};
        addthis_config.data_track_addressbar = false;
        addthis_config.data_track_clickback = false;
    </script>
    <script type="text/javascript" src="https://tiborsimon.io/theme/js/bundle.min.js" charset="utf-8"></script>

  <script type="text/javascript" src="http://tiborsimon.disqus.com/count.js" id="dsq-count-scr"></script>

  <script type="text/javascript">
    var addthis_share = addthis_share || {}
    addthis_share = {
      passthrough : {
        twitter: {
          via: "tiborsimonio",
          text: "Tibor Simon - As I was creating my site, I wanted to split a list of articles ....."
        }
      },
      url_transforms : {
           shorten: {
                twitter: 'bitly'
           }
      },
      shorteners : {
           bitly : {}
      }
    }
  </script>

  <script>

  </script>


    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-68408613-1', 'auto');
      ga('send', 'pageview');
    </script>

    <!-- Go to www.addthis.com/dashboard to customize your tools -->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55feae79d6d0348d"></script>

  </body>
</html>